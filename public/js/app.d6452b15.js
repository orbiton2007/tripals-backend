(function(e){function t(t){for(var n,a,o=t[0],u=t[1],c=t[2],l=0,d=[];l<o.length;l++)a=o[l],i[a]&&d.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==i[u]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},i={app:0},s=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"004e":function(e,t,r){"use strict";var n=r("ecc2"),i=r.n(n);i.a},"020d":function(e,t,r){"use strict";var n=r("2e20"),i=r.n(n);i.a},"04c4":function(e,t,r){},"05c4":function(e,t,r){"use strict";var n=r("3db3"),i=r.n(n);i.a},"081d":function(e,t,r){"use strict";var n=r("04c4"),i=r.n(n);i.a},2211:function(e,t,r){},"23d0":function(e,t,r){},"26db":function(e,t,r){},"2e20":function(e,t,r){},"3db3":function(e,t,r){},4725:function(e,t,r){},"52f7":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=r("bb71");r("da64");n["a"].use(i["a"],{iconfont:"md"});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("router-view")],1)],1)},a=[],o={name:"App",data:function(){return{}},created:function(){},computed:{},methods:{},components:{}},u=o,c=r("2877"),p=r("6544"),l=r.n(p),d=r("7496"),m=r("549c"),v=Object(c["a"])(u,s,a,!1,null,null,null),f=v.exports;l()(v,{VApp:d["a"],VContent:m["a"]});var g=r("8c4f"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home"},[r("div",{staticClass:"header"},[r("AppHeader"),r("TripFilter",{on:{setFilter:e.setFilter}}),r("router-link",{attrs:{to:"/TripEdit"}},[e._v("New Trip")])],1),e.ownerTrips.length&&e.loggedInUser?r("div",{staticClass:"my-trips"},[r("h2",[e._v("My Trips")]),r("TripList",{attrs:{trips:e.ownerTrips}})],1):e._e(),r("div",{staticClass:"all-trips"},[r("TripList",{attrs:{trips:e.trips}})],1)])},w=[],b=(r("96cf"),r("3b8d")),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"trip-list"},[r("ul",{staticClass:"ul-list"},e._l(e.trips,function(e,t){return r("TripPreview",{key:t,attrs:{trip:e}})}),1)])},x=[],_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"trip-preview"},[r("v-img",{attrs:{xs2:"",src:e.trip.imgUrl,"aspect-ratio":"1.8"}}),r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[e._v(e._s(e.trip.destination))]),r("h4",[e._v(e._s(e.trip.title))])])]),r("div",{staticClass:"btns-preview"},[r("router-link",{attrs:{to:"/TripDetails/"+e.trip._id}},[e._v("Details")])],1)],1)},U=[],$={props:{trip:Object},data:function(){return{}},created:function(){}},k=$,I=(r("a02d"),r("b0af")),O=r("12b2"),j=r("adda"),N=Object(c["a"])(k,_,U,!1,null,"de68d8aa",null),R=N.exports;l()(N,{VCard:I["a"],VCardTitle:O["a"],VImg:j["a"]});var C={props:{trips:Array},data:function(){return{}},created:function(){},components:{TripPreview:R}},T=C,P=(r("020d"),Object(c["a"])(T,y,x,!1,null,"eb833892",null)),E=P.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"trip-filter"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.setFilter(t)}}},[r("label",[e._v("\n      Destination\n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.txt,expression:"filter.txt"}],attrs:{type:"text"},domProps:{value:e.filter.txt},on:{input:[function(t){t.target.composing||e.$set(e.filter,"txt",t.target.value)},e.setFilter]}})]),r("label",[e._v("\n      From\n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.from,expression:"filter.from"}],attrs:{type:"date"},domProps:{value:e.filter.from},on:{input:[function(t){t.target.composing||e.$set(e.filter,"from",t.target.value)},e.setFilter]}})]),r("label",[e._v("\n      To\n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.to,expression:"filter.to"}],attrs:{type:"date"},domProps:{value:e.filter.to},on:{input:[function(t){t.target.composing||e.$set(e.filter,"to",t.target.value)},e.setFilter]}})]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.filter.type,expression:"filter.type"}],staticClass:"select",on:{input:e.setFilter,change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filter,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"culture"}},[e._v("Culture")]),r("option",{attrs:{value:"romantic"}},[e._v("Romantic")]),r("option",{attrs:{value:"history"}},[e._v("History")]),r("option",{attrs:{value:"culinary"}},[e._v("Culinary")])]),r("button",[e._v("Search")])])])},S=[],M={data:function(){return{filter:{txt:"",from:"",to:"",type:""}}},created:function(){},methods:{setFilter:function(){this.$emit("setFilter",this.filter)}}},B=M,D=(r("efc9"),Object(c["a"])(B,L,S,!1,null,"62dbdeb3",null)),A=D.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"nav",attrs:{app:""}},[e._m(0),r("div",{staticClass:"navbar"},[e.loggedInUser?r("button",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedInUser?e._e():r("router-link",{attrs:{to:"/Signup"}},[e._v("Signup")]),e.loggedInUser?e._e():r("router-link",{attrs:{to:"/Login"}},[e._v("Login")]),r("router-link",{attrs:{to:"/about"}},[e._v("About")]),r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e.loggedInUser?r("div",[r("img",{staticClass:"user-img",attrs:{src:e.loggedInUser.imgUrl},on:{click:e.goUserProfile}})]):e._e()],1)])},q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("h2",[e._v("Vamos")])])}],H={data:function(){return{}},created:function(){},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{logout:function(){this.$store.dispatch({type:"logout"})},goUserProfile:function(){this.$router.push("/UserProfile/".concat(this.loggedInUser._id))}}},W=H,J=(r("004e"),Object(c["a"])(W,F,q,!1,null,"16a7d897",null)),V=J.exports,G={data:function(){return{ownerTrips:[]}},created:function(){this.setFilter()},computed:{trips:function(){return this.$store.getters.trips},loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{setFilter:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.$store.dispatch({type:"loadTrips",filter:t});case 3:r=e.sent,this.loggedInUser&&(this.ownerTrips=r.filter(function(e){return e.owner._id===n.loggedInUser._id}));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},components:{TripList:E,TripFilter:A,AppHeader:V}},z=G,Y=(r("f1b4"),Object(c["a"])(z,h,w,!1,null,"47fadd85",null)),K=Y.exports,Z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("This is an about page")])])}],X={},ee=Object(c["a"])(X,Z,Q,!1,null,null,null),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"trip-edit"},[r("AppHeader"),e.trip._id?r("h2",[e._v("Edit")]):r("h2",[e._v("New Trip")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("div",[r("label",[e._v("\n        Title\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.title,expression:"trip.title"}],attrs:{type:"text",placeholder:"Title"},domProps:{value:e.trip.title},on:{input:function(t){t.target.composing||e.$set(e.trip,"title",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Destination\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.destination,expression:"trip.destination"}],attrs:{type:"text",placeholder:"Destination"},domProps:{value:e.trip.destination},on:{input:function(t){t.target.composing||e.$set(e.trip,"destination",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Start Date\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.start,expression:"trip.start"}],attrs:{type:"date"},domProps:{value:e.trip.start},on:{input:function(t){t.target.composing||e.$set(e.trip,"start",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        End Date\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.end,expression:"trip.end"}],attrs:{type:"date"},domProps:{value:e.trip.end},on:{input:function(t){t.target.composing||e.$set(e.trip,"end",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Description\n        "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.trip.desc,expression:"trip.desc"}],attrs:{placeholder:"Description",cols:"30",rows:"10"},domProps:{value:e.trip.desc},on:{input:function(t){t.target.composing||e.$set(e.trip,"desc",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Meeting Point\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.meetingPoint,expression:"trip.meetingPoint"}],attrs:{type:"text",placeholder:"Meeting Point"},domProps:{value:e.trip.meetingPoint},on:{input:function(t){t.target.composing||e.$set(e.trip,"meetingPoint",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Meeting Time\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.meetingTime,expression:"trip.meetingTime"}],attrs:{type:"time",placeholder:"Meeting Time"},domProps:{value:e.trip.meetingTime},on:{input:function(t){t.target.composing||e.$set(e.trip,"meetingTime",t.target.value)}}})])]),r("div",[r("label",[e._v("\n        Max Participants\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trip.participantCap,expression:"trip.participantCap"}],attrs:{type:"number",min:"2"},domProps:{value:e.trip.participantCap},on:{input:function(t){t.target.composing||e.$set(e.trip,"participantCap",t.target.value)}}})])]),e._m(0),r("button",[e._v("Save")])])],1)},ne=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",[e._v("\n        Upload Image\n        "),r("input",{attrs:{type:"file"}})])])}],ie={data:function(){return{trip:{title:"",desc:"",destination:"",imgUrl:"https://images.unsplash.com/photo-1562386130-926081dc4fbf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=600&q=60",type:"",start:"",end:"",likedBy:[],participantCap:"",meetingTime:"",meetingPoint:"",waitingList:[],chat:{msgs:[]}}}},created:function(){var e=this,t=this.$route.params.id;t&&this.$store.dispatch({type:"getById",tripId:t}).then(function(t){return e.trip=t})},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{save:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.target[8].files[0],!r){e.next=12;break}return e.prev=2,e.next=5,this.$store.dispatch({type:"uploadImg",file:r});case 5:n=e.sent,this.trip.imgUrl=n,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:return e.prev=12,e.next=15,this.$store.dispatch({type:"save",trip:this.trip});case 15:i=e.sent,this.loggedInUser.tripsOwner.push({tripId:i._id}),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](12),console.log(e.t1);case 22:return e.prev=22,e.next=25,this.$store.dispatch({type:"updateUser",user:this.loggedInUser});case 25:e.next=30;break;case 27:e.prev=27,e.t2=e["catch"](22),console.log(e.t2);case 30:this.$router.push("/");case 31:case"end":return e.stop()}},e,this,[[2,9],[12,19],[22,27]])}));function t(t){return e.apply(this,arguments)}return t}()},components:{AppHeader:V}},se=ie,ae=(r("88d3"),Object(c["a"])(se,re,ne,!1,null,"2d4ca6e7",null)),oe=ae.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.trip&&e.owner?r("section",{staticClass:"trip-details"},[r("div",{staticClass:"AppHeader"},[r("AppHeader")],1),r("div",{staticClass:"map"},[r("google-map",{attrs:{location:e.trip.destination}})],1),e._m(0),r("div",{staticClass:"trip-desc"},[r("h3",[e._v(e._s(e.trip.destination))]),r("button",{on:{click:e.joinTrip}},[e._v("Join")]),r("h4",[e._v(e._s(e.trip.title))]),r("h4",[e._v(e._s(e.trip.participantCap))]),r("h4",[e._v("Owner: "+e._s(e.owner.firstName)+" "+e._s(e.owner.lastName))]),r("img",{staticClass:"user-img",attrs:{src:e.owner.imgUrl}}),e.loggedInUser&&e.loggedInUser._id===e.trip.owner._id?r("router-link",{attrs:{to:"/TripEdit/"+e.trip._id}},[e._v("Edit")]):e._e(),e.loggedInUser&&e.loggedInUser._id===e.trip.owner._id?r("button",{on:{click:function(t){return e.remove(e.trip._id)}}},[e._v("Remove Trip")]):e._e()],1),e._m(1),e._m(2),r("div",{staticClass:"trip-participant"},[r("ul",e._l(this.waitingList,function(t,n){return r("li",{key:n},[e._v(e._s(t.firstName)+e._s(t.lastName))])}),0)])]):e._e()},ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"trip-chat"},[r("h3",[e._v("Chat")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"trip-plan"},[r("p",[e._v("dsfdsfdsfdsf")]),r("p",[e._v("dsfdsfdsfdsf")]),r("p",[e._v("dsfdsfdsfdsf")]),r("p",[e._v("dsfdsfdsfdsf")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"trip-weather"},[r("h3",[e._v("Wether")])])}],pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.center?r("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:e.center,zoom:13}},e._l(e.markers,function(t,n){return r("gmap-marker",{key:n,attrs:{position:t.position},on:{click:function(r){e.center=t.position}}})}),1):e._e()],1)},le=[],de=(r("a481"),{setMap:me,getCoordsByLocation:fe});function me(){return ve.apply(this,arguments)}function ve(){return ve=Object(b["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),ve.apply(this,arguments)}function fe(e){return e=e.replace(/,|'| /,"+"),fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&key=AIzaSyAY3sSuIsbs3ZDKn_2_-xGEJHgOW8Wmrdk")).then(function(e){return e.json().then(function(e){return e.results[0].geometry.location})})}var ge={name:"GoogleMap",data:function(){return{center:null,markers:[],places:[],currentPlace:null}},props:{location:String},created:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.location),e.next=3,de.getCoordsByLocation(this.location);case 3:t=e.sent,this.center=t,this.markers.push({position:t}),this.center=t;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{}},he=ge,we=Object(c["a"])(he,pe,le,!1,null,null,null),be=we.exports,ye={data:function(){return{trip:null,owner:null}},created:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,this.$store.dispatch({type:"getById",tripId:t});case 3:return this.trip=e.sent,e.next=6,this.$store.dispatch({type:"getUserById",id:this.trip.owner._id});case 6:if(this.owner=e.sent,!this.trip.waitingList){e.next=10;break}return e.next=10,this.$store.dispatch({type:"getWaitingListUsers",tripId:{tripId:this.trip._id}});case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{loggedInUser:function(){return this.$store.getters.loggedInUser},waitingList:function(){return this.$store.getters.waitingList}},methods:{remove:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"remove",id:t});case 3:this.$router.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("not remove",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),joinTrip:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loggedInUser){e.next=3;break}return this.$router.push("/login"),e.abrupt("return");case 3:return this.trip.waitingList.push({userId:this.loggedInUser._id}),this.loggedInUser.pending.push({tripId:this.trip._id}),e.prev=5,e.next=8,this.$store.dispatch({type:"save",trip:this.trip});case 8:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),console.log("not saved",e.t0);case 14:return e.prev=14,e.next=17,this.$store.dispatch({type:"updateUser",user:this.loggedInUser});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](14),console.log("not update",e.t1);case 22:case"end":return e.stop()}},e,this,[[5,11],[14,19]])}));function t(){return e.apply(this,arguments)}return t}()},components:{AppHeader:V,GoogleMap:be}},xe=ye,_e=(r("05c4"),Object(c["a"])(xe,ue,ce,!1,null,"085f3c98",null)),Ue=_e.exports,$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login"},[r("h2",[e._v("login")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"Enter Email",minlength:"3",required:"",autofocus:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pass,expression:"user.pass"}],attrs:{type:"password",placeholder:"Enter Password",minlength:"2",required:""},domProps:{value:e.user.pass},on:{input:function(t){t.target.composing||e.$set(e.user,"pass",t.target.value)}}}),r("button",[e._v("Login")])])])},ke=[],Ie={data:function(){return{user:{email:"",pass:""},loggedInUser:null}},methods:{login:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch({type:"login",user:this.user});case 3:this.user={email:"",pass:""},this.$router.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},Oe=Ie,je=(r("83a7"),Object(c["a"])(Oe,$e,ke,!1,null,"37e01077",null)),Ne=je.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"signup"},[r("h2",[e._v("signup")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"Email",autofocus:"",required:""},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.pass,expression:"newUser.pass"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.newUser.pass},on:{input:function(t){t.target.composing||e.$set(e.newUser,"pass",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.firstName,expression:"newUser.firstName"}],attrs:{type:"text",placeholder:"First Name",required:""},domProps:{value:e.newUser.firstName},on:{input:function(t){t.target.composing||e.$set(e.newUser,"firstName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.lastName,expression:"newUser.lastName"}],attrs:{type:"text",placeholder:"Last Name",required:""},domProps:{value:e.newUser.lastName},on:{input:function(t){t.target.composing||e.$set(e.newUser,"lastName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.resCountry,expression:"newUser.resCountry"}],attrs:{type:"text",placeholder:"Country",required:""},domProps:{value:e.newUser.resCountry},on:{input:function(t){t.target.composing||e.$set(e.newUser,"resCountry",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.yearOfBirth,expression:"newUser.yearOfBirth"}],attrs:{type:"text",placeholder:"Year Of Birth"},domProps:{value:e.newUser.yearOfBirth},on:{input:function(t){t.target.composing||e.$set(e.newUser,"yearOfBirth",t.target.value)}}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newUser.aboutMe,expression:"newUser.aboutMe"}],attrs:{cols:"30",rows:"10"},domProps:{value:e.newUser.aboutMe},on:{input:function(t){t.target.composing||e.$set(e.newUser,"aboutMe",t.target.value)}}}),e._m(0),r("button",[e._v("Signup")])])])},Ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",[e._v("\n        Upload Image\n        "),r("input",{attrs:{type:"file"}})])])}],Te={data:function(){return{newUser:{email:"",pass:"",firstName:"",lastName:"",imgUrl:"https://34yigttpdc638c2g11fbif92-wpengine.netdna-ssl.com/wp-content/uploads/2016/09/default-user-img.jpg",resCountry:"",aboutMe:"",yearOfBirth:"",interests:"",socialMedia:"",pending:[],joining:[],tripsOwner:[]}}},methods:{signup:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.target[7].files[0],!r){e.next=6;break}return e.next=4,this.$store.dispatch({type:"uploadImg",file:r});case 4:n=e.sent,this.newUser.imgUrl=n;case 6:return e.prev=6,e.next=9,this.$store.dispatch({type:"signup",userCredential:this.newUser});case 9:this.$router.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),this.$router.push("/login");case 15:case"end":return e.stop()}},e,this,[[6,12]])}));function t(t){return e.apply(this,arguments)}return t}()}},Pe=Te,Ee=(r("081d"),Object(c["a"])(Pe,Re,Ce,!1,null,"1ede77b1",null)),Le=Ee.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",[r("h2",[e._v("user porfile")]),r("div",[r("img",{staticClass:"user-img",attrs:{src:e.user.imgUrl}})]),r("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"}],attrs:{type:"text"},domProps:{value:e.user.firstName},on:{input:function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)}}})]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"}],attrs:{type:"text"},domProps:{value:e.user.lastName},on:{input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}})]),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.aboutMe,expression:"user.aboutMe"}],attrs:{cols:"30",rows:"10",placeholder:"About Me"},domProps:{value:e.user.aboutMe},on:{input:function(t){t.target.composing||e.$set(e.user,"aboutMe",t.target.value)}}})]),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user.interests,expression:"user.interests"}],attrs:{cols:"30",rows:"10",placeholder:"Interests"},domProps:{value:e.user.interests},on:{input:function(t){t.target.composing||e.$set(e.user,"interests",t.target.value)}}})]),r("input",{attrs:{type:"file"}}),r("button",[e._v("Save")])])]):e._e()},Me=[],Be={data:function(){return{user:null}},created:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,this.$store.dispatch({type:"getUserById",id:t});case 3:r=e.sent,this.user=r;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{save:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.target[4].files[0],!r){e.next=12;break}return e.prev=2,e.next=5,this.$store.dispatch({type:"uploadImg",file:r});case 5:n=e.sent,this.user.imgUrl=n,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:return e.prev=12,e.next=15,this.$store.dispatch({type:"updateUser",user:this.user});case 15:this.$router.push("/"),e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](12),console.log(e.t1);case 21:case"end":return e.stop()}},e,this,[[2,9],[12,18]])}));function t(t){return e.apply(this,arguments)}return t}()}},De=Be,Ae=(r("e654"),Object(c["a"])(De,Se,Me,!1,null,"680b199d",null)),Fe=Ae.exports;n["a"].use(g["a"]);var qe=new g["a"]({routes:[{path:"/",name:"home",component:K},{path:"/about",name:"about",component:te},{path:"/TripEdit/:id?",name:"TripEdit",component:oe},{path:"/TripDetails/:id",name:"TripDetails",component:Ue},{path:"/UserProfile/:id",name:"UserProfile",component:Fe},{path:"/Login",name:"Login",component:Ne},{path:"/Signup",name:"Signup",component:Le}]}),He=r("2f62"),We=(r("20d6"),r("bc3a")),Je=r.n(We),Ve="/api/",Ge=Je.a.create({withCredentials:!0});function ze(e){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n,i,s,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"get",n=a.length>2&&void 0!==a[2]?a[2]:null,n&&(i=n.params),e.prev=3,e.next=6,Ge({url:"".concat(Ve).concat(t),method:r,data:n,params:i});case 6:return s=e.sent,e.abrupt("return",s.data);case 10:if(e.prev=10,e.t0=e["catch"](3),401!==e.t0.response.status){e.next=16;break}qe.push("/login"),e.next=17;break;case 16:throw e.t0;case 17:case"end":return e.stop()}},e,null,[[3,10]])})),Ye.apply(this,arguments)}var Ke={get:function(e,t){return ze(e,"GET",{params:t})},post:function(e,t){return ze(e,"POST",t)},put:function(e,t){return ze(e,"PUT",t)},delete:function(e,t){return ze(e,"DELETE",t)}},Ze={query:Qe,getById:Xe,remove:et,save:tt,handleUploadImage:rt};function Qe(e){return Ke.get(it(),e)}function Xe(e){return Ke.get(it(e))}function et(e){return Ke.delete(it(e))}function tt(e){return e._id?Ke.put(it(e._id),e):Ke.post(it(),e)}function rt(e){return nt.apply(this,arguments)}function nt(){return nt=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r,n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("imgUpload",t),n="/upload/cloudinary",e.prev=3,e.next=6,fetch(n,{method:"POST",body:r});case 6:return i=e.sent,e.next=9,i.json();case 9:return s=e.sent,e.abrupt("return",s.url);case 13:throw e.prev=13,e.t0=e["catch"](3),e.t0;case 16:case"end":return e.stop()}},e,null,[[3,13]])})),nt.apply(this,arguments)}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"trip/".concat(e)}var st={state:{trips:[],ownerTrips:[]},mutations:{setTrips:function(e,t){var r=t.trips;e.trips=r},setOwnerTrips:function(e,t){var r=t.trips;e.ownerTrips=r},remove:function(e,t){var r=t.id,n=e.trips.findIndex(function(e){return e._id===r});e.trips.splice(n,1)},update:function(e,t){var r=t.trip,n=e.trips.findIndex(function(e){return e._id===r._id});e.trips.splice(n,1,r)},save:function(e,t){var r=t.trip;e.trips.push(r)}},getters:{trips:function(e){return e.trips}},actions:{loadTrips:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.filter,e.prev=1,e.next=4,Ze.query(n);case 4:return i=e.sent,t.commit({type:"setTrips",trips:i}),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getById:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.tripId,e.prev=1,e.next=4,Ze.getById(n);case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,e.next=4,Ze.remove(n);case 4:i=e.sent,t.commit({type:"remove",id:i}),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.trip,!n._id){e.next=14;break}return e.prev=2,e.next=5,Ze.save(n);case 5:i=e.sent,t.commit({type:"update",trip:i}),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](2),e.t0;case 12:e.next=25;break;case 14:return e.prev=14,e.next=17,Ze.save(n);case 17:return s=e.sent,t.commit({type:"save",trip:s}),e.abrupt("return",s);case 22:throw e.prev=22,e.t1=e["catch"](14),e.t1;case 25:case"end":return e.stop()}},e,null,[[2,9],[14,22]])}));function t(t,r){return e.apply(this,arguments)}return t}(),uploadImg:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.file,e.prev=1,e.next=4,Ze.handleUploadImage(n);case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}()}},at={login:ut,signup:pt,logout:dt,getLoggedInUser:ot};function ot(){return JSON.parse(sessionStorage.getItem("loggedInUser"))}function ut(e){return ct.apply(this,arguments)}function ct(){return ct=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke.post(vt("login"),t);case 2:return r=e.sent,sessionStorage.setItem("loggedInUser",JSON.stringify(r)),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),ct.apply(this,arguments)}function pt(e){return lt.apply(this,arguments)}function lt(){return lt=Object(b["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke.post(vt("signup"),t);case 2:return r=e.sent,sessionStorage.setItem("loggedInUser",JSON.stringify(r)),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),lt.apply(this,arguments)}function dt(){return mt.apply(this,arguments)}function mt(){return mt=Object(b["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ke.post(vt("logout"));case 2:return t=e.sent,sessionStorage.clear(),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),mt.apply(this,arguments)}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"auth/".concat(e)}var ft={getById:ht,save:wt,query:gt};function gt(e){return Ke.get(bt(),e)}function ht(e){return Ke.get(bt(e))}function wt(e){return Ke.put(bt(),e)}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"user/".concat(e)}var yt={state:{loggedInUser:at.getLoggedInUser(),waitingList:[]},mutations:{setLoggedInUser:function(e,t){var r=t.user;e.loggedInUser=r},setWaitingList:function(e,t){var r=t.waitingList;e.waitingList=r}},getters:{loggedInUser:function(e){return e.loggedInUser},waitingList:function(e){return e.waitingList}},actions:{login:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.user,e.next=3,at.login(n);case 3:i=e.sent,t.commit({type:"setLoggedInUser",user:i});case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.userCredential,e.prev=1,e.next=4,at.signup(n);case 4:i=e.sent,t.commit({type:"setLoggedInUser",user:i}),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](1),e.t0;case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,at.logout();case 2:t.commit({type:"setLoggedInUser",user:null});case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getUserById:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,e.next=4,ft.getById(n);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateUser:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.user,e.prev=1,e.next=4,ft.save(n);case 4:return i=e.sent,t.commit({type:"setLoggedInUser",user:i}),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getWaitingListUsers:function(){var e=Object(b["a"])(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.tripId,console.log(n),e.next=4,ft.query(n);case 4:return i=e.sent,i&&t.commit({type:"setWaitingList",waitingList:i}),e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()}};n["a"].use(He["a"]);var xt=new He["a"].Store({state:{},mutations:{},getters:{},actions:{},modules:{TripStore:st,UserStore:yt}}),_t=r("9483");Object(_t["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("70c6");var Ut=r("755e");n["a"].use(Ut,{load:{key:"AIzaSyAY3sSuIsbs3ZDKn_2_-xGEJHgOW8Wmrdk",libraries:"places"}}),n["a"].config.productionTip=!1,new n["a"]({router:qe,store:xt,render:function(e){return e(f)}}).$mount("#app")},"70c6":function(e,t,r){},"83a7":function(e,t,r){"use strict";var n=r("4725"),i=r.n(n);i.a},"88d3":function(e,t,r){"use strict";var n=r("2211"),i=r.n(n);i.a},a02d:function(e,t,r){"use strict";var n=r("23d0"),i=r.n(n);i.a},aa53:function(e,t,r){},e654:function(e,t,r){"use strict";var n=r("26db"),i=r.n(n);i.a},ecc2:function(e,t,r){},efc9:function(e,t,r){"use strict";var n=r("aa53"),i=r.n(n);i.a},f1b4:function(e,t,r){"use strict";var n=r("52f7"),i=r.n(n);i.a}});
//# sourceMappingURL=app.d6452b15.js.map